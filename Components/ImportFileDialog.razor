@inject TransactionService TransactionService

<MudDialog Style="width:700px;height:400px;">
    <TitleContent>
        <MudText Typo="Typo.h6">
            <MudIcon Icon="@Icons.Material.Filled.DeleteForever" Class="mr-3 mb-n1"/>
            Delete server?
        </MudText>
    </TitleContent>
    <DialogContent>
        <MudText>File Type @ImportFileType</MudText>
        <MudText>File @ImportFile</MudText>
        <MudProgressLinear Color="Color.Success" Rounded="true" Size="Size.Large" Value="@progress"/>
    </DialogContent>
    <DialogActions>
        <MudButton Color="Color.Error" OnClick="Import">Import</MudButton>
        <MudButton OnClick="Close">Close</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }

    [Parameter] public ImportTypeEnum ImportFileType { get; set; }
    [Parameter] public string ImportFile { get; set; }

    private void Close()
    {
        MudDialog.Cancel();
    }

    int progress;

    private async Task Import()
    {
        var actionProgress = void (int p) => progress = p;

        switch (ImportFileType)
        {
            case ImportTypeEnum.MintCSV:
                await TransactionService.ImportMintCSV(ImportFile, actionProgress);
                break;
        }
    }

}