@page "/transactions"
@inject IDialogService DialogService
@inject DataService dataService
@using Microsoft.FluentUI.AspNetCore.Components

<FluentStack Orientation="Orientation.Horizontal" VerticalAlignment="VerticalAlignment.Center" HorizontalGap="20" Style="margin: 10px 0;">
    <FluentLabel Typo="Typography.H3"> Transactions</FluentLabel>
    <FluentButton Appearance="Appearance.Stealth" OnClick="DeleteAll">Delete All</FluentButton>
</FluentStack>

<TransactionsList/>

@code {

    async Task DeleteAll()
    {
        var dialog = await DialogService.ShowConfirmationAsync("Do you want to delete all transactions?", "Yes", "No", "Transactions");
        var result = await dialog.Result;
        if (!result.Cancelled)
            await dataService.DeleteAllTransactions();
    }

}